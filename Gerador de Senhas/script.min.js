(function(){'use strict';function gerarSenha(c,a,b,d,e,f){c=Number(c)||0;if(c<=0){alert('O comprimento da senha deve ser maior que zero.');return''}const A='ABCDEFGHIJKLMNOPQRSTUVWXYZ',B='abcdefghijklmnopqrstuvwxyz',C='0123456789',D='!@#$%^&*()-_=+[]{}|;:,.<>?/`~',E='il1Lo0O';let g='';if(a)g+=A;if(b)g+=B;if(d)g+=C;if(e)g+=D;if(!g){alert('Selecione pelo menos um tipo de caractere.');return''}if(f){const h=E.replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&');g=g.replace(new RegExp('['+h+']','g'),'')}if(g.length===0){alert('Nenhum caractere disponível para gerar a senha.');return''}const rand=(m)=>{if(window.crypto&&window.crypto.getRandomValues){const r=new Uint32Array(1);window.crypto.getRandomValues(r);return r[0]%m}return Math.floor(Math.random()*m)};let s='';for(let i=0;i<c;i++){s+=g.charAt(rand(g.length))}return s}function setPasswordDisplay(e,t){if(!e)return;const n=e.tagName?e.tagName.toUpperCase():'';if(n==='INPUT'||n==='TEXTAREA')e.value=t;else e.textContent=t}function getPasswordDisplayText(e){if(!e)return'';const n=e.tagName?e.tagName.toUpperCase():'';return(n==='INPUT'||n==='TEXTAREA')?e.value||'':e.textContent||''}const form=document.getElementById('passwordForm'),passwordDisplay=document.getElementById('passwordDisplay'),copyButton=document.getElementById('copyButton'),clearButton=document.getElementById('clearButton'),togglePassword=document.getElementById('togglePassword');if(togglePassword&&passwordDisplay)togglePassword.addEventListener('change',function(){const n=passwordDisplay.tagName?passwordDisplay.tagName.toUpperCase():'';if(n==='INPUT'||n==='TEXTAREA')try{passwordDisplay.type=togglePassword.checked?'text':'password'}catch(e){} });if(form)form.addEventListener('submit',function(e){e.preventDefault();const comprimento=parseInt(document.getElementById('length').value,10)||0,incluirMaiusculas=!!document.getElementById('includeUppercase').checked,incluirMinusculas=!!document.getElementById('includeLowercase').checked,incluirNumeros=!!document.getElementById('includeNumbers').checked,incluirSimbolos=!!(document.getElementById('includeSpecialChars')?.checked||document.getElementById('includeSymbols')?.checked),excluirSimilares=!!document.getElementById('excludeSimilarChars').checked;const senhaGerada=gerarSenha(comprimento,incluirMaiusculas,incluirMinusculas,incluirNumeros,incluirSimbolos,excluirSimilares);setPasswordDisplay(passwordDisplay,senhaGerada)});if(copyButton)copyButton.addEventListener('click',function(){const t=getPasswordDisplayText(passwordDisplay);if(!t)return; if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(t).then(function(){alert('Senha copiada para a área de transferência!')}).catch(function(n){alert('Erro ao copiar a senha: '+n)})}else{try{const n=passwordDisplay?.tagName?passwordDisplay.tagName.toUpperCase():'';if(n==='INPUT'||n==='TEXTAREA'){passwordDisplay.select();document.execCommand('copy');alert('Senha copiada para a área de transferência!')}else{const ta=document.createElement('textarea');ta.value=t;document.body.appendChild(ta);ta.select();document.execCommand('copy');document.body.removeChild(ta);alert('Senha copiada para a área de transferência!')}}catch(n){alert('Não foi possível copiar a senha automaticamente.')}}});if(clearButton)clearButton.addEventListener('click',function(){setPasswordDisplay(passwordDisplay,'')});})();